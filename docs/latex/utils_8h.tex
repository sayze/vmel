\hypertarget{utils_8h}{}\section{src/include/utils.h File Reference}
\label{utils_8h}\index{src/include/utils.\+h@{src/include/utils.\+h}}


File containing collection of helper functions.  


{\ttfamily \#include $<$string.\+h$>$}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{utils_8h_aa1187b70998f73cdb598833d6afaa30a}\label{utils_8h_aa1187b70998f73cdb598833d6afaa30a}} 
void \mbox{\hyperlink{utils_8h_aa1187b70998f73cdb598833d6afaa30a}{print\+\_\+usage}} (void)
\begin{DoxyCompactList}\small\item\em Print help to cli. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{utils_8h_afec8213f9a8c68f5fddcd254e9f02d86}{file\+\_\+to\+\_\+buffer}} (const char $\ast$)
\begin{DoxyCompactList}\small\item\em Read contents of file to buffer. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{utils_8h_a1b3d227bb361e0377f47e04db658fdb7}{string\+\_\+to\+\_\+int}} (char $\ast$str, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Convert a string of numbers to integer. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{utils_8h_a3fc6a14a15a7932942d42a6132390f0d}{int\+\_\+to\+\_\+string}} (char $\ast$out, int src)
\begin{DoxyCompactList}\small\item\em Wrapper around sprintf to convert an integer to a string. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{utils_8h_a8edfae9606f62a482398940b1931293d}{string\+\_\+compare}} (char $\ast$str1, char $\ast$str2)
\begin{DoxyCompactList}\small\item\em Shorthand for strcmp. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{utils_8h_a735abe73549c0fe822cdf2ec566187a2}{string\+\_\+map\+\_\+vars}} (const char $\ast$src, char $\ast$$\ast$vars, size\+\_\+t src\+\_\+len, size\+\_\+t vars\+\_\+len)
\begin{DoxyCompactList}\small\item\em Replace all the variables in string with corresponding values. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{utils_8h_a2d5c5a70ff357c67a97a511d291e60fa}{string\+\_\+dup}} (char $\ast$src)
\begin{DoxyCompactList}\small\item\em Duplicate a string into malloc\textquotesingle{}ed space and returns pointer,. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{utils_8h_a55cbd7f55966ccd433d2e34215f840bd}{null\+\_\+check}} (char $\ast$obj)
\begin{DoxyCompactList}\small\item\em Print null object error with name. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
File containing collection of helper functions. 

\begin{DoxyAuthor}{Author}
Sayed Sadeed 
\end{DoxyAuthor}


\subsection{Function Documentation}
\mbox{\Hypertarget{utils_8h_afec8213f9a8c68f5fddcd254e9f02d86}\label{utils_8h_afec8213f9a8c68f5fddcd254e9f02d86}} 
\index{utils.\+h@{utils.\+h}!file\+\_\+to\+\_\+buffer@{file\+\_\+to\+\_\+buffer}}
\index{file\+\_\+to\+\_\+buffer@{file\+\_\+to\+\_\+buffer}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{file\+\_\+to\+\_\+buffer()}{file\_to\_buffer()}}
{\footnotesize\ttfamily char$\ast$ file\+\_\+to\+\_\+buffer (\begin{DoxyParamCaption}\item[{const char $\ast$}]{ }\end{DoxyParamCaption})}



Read contents of file to buffer. 

This function will read the contents of a passed source file ($\ast$.vml). It will simply dump the contents of a file to a buffer. The buffer is created on heap so must be managed by caller. See below example


\begin{DoxyCode}
\textcolor{keywordtype}{char} *filename = \textcolor{stringliteral}{"~/Desktop/run.vml"};
\textcolor{keywordtype}{char} *buffer = \mbox{\hyperlink{utils_8h_afec8213f9a8c68f5fddcd254e9f02d86}{file\_to\_buffer}}(filename);
free(buffer) \textcolor{comment}{// when done.}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em filename} & Path to source file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to buffer containing contents of file. 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8h_a3fc6a14a15a7932942d42a6132390f0d}\label{utils_8h_a3fc6a14a15a7932942d42a6132390f0d}} 
\index{utils.\+h@{utils.\+h}!int\+\_\+to\+\_\+string@{int\+\_\+to\+\_\+string}}
\index{int\+\_\+to\+\_\+string@{int\+\_\+to\+\_\+string}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{int\+\_\+to\+\_\+string()}{int\_to\_string()}}
{\footnotesize\ttfamily int int\+\_\+to\+\_\+string (\begin{DoxyParamCaption}\item[{char $\ast$}]{out,  }\item[{int}]{src }\end{DoxyParamCaption})}



Wrapper around sprintf to convert an integer to a string. 

Function take a input source and saves its contents in string format to specified out char.


\begin{DoxyParams}{Parameters}
{\em out} & Pointer to char where converted int is stored.  src Integer being converted. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of chars (exl N\+U\+LL) if went successfully otherwise return negative; 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8h_a55cbd7f55966ccd433d2e34215f840bd}\label{utils_8h_a55cbd7f55966ccd433d2e34215f840bd}} 
\index{utils.\+h@{utils.\+h}!null\+\_\+check@{null\+\_\+check}}
\index{null\+\_\+check@{null\+\_\+check}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{null\+\_\+check()}{null\_check()}}
{\footnotesize\ttfamily void null\+\_\+check (\begin{DoxyParamCaption}\item[{char $\ast$}]{obj }\end{DoxyParamCaption})}



Print null object error with name. 

This is helpful for debugging purposes


\begin{DoxyParams}{Parameters}
{\em obj} & name of the object which gets printed. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{utils_8h_a8edfae9606f62a482398940b1931293d}\label{utils_8h_a8edfae9606f62a482398940b1931293d}} 
\index{utils.\+h@{utils.\+h}!string\+\_\+compare@{string\+\_\+compare}}
\index{string\+\_\+compare@{string\+\_\+compare}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{string\+\_\+compare()}{string\_compare()}}
{\footnotesize\ttfamily int string\+\_\+compare (\begin{DoxyParamCaption}\item[{char $\ast$}]{str1,  }\item[{char $\ast$}]{str2 }\end{DoxyParamCaption})}



Shorthand for strcmp. 

Function will remove the need to check for 0 on performing strcmp. Assuming strings are null terminated.


\begin{DoxyParams}{Parameters}
{\em str1} & Pointer to first string. \\
\hline
{\em str2} & Pointer to second string. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if strings match, 0 if not match. 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8h_a2d5c5a70ff357c67a97a511d291e60fa}\label{utils_8h_a2d5c5a70ff357c67a97a511d291e60fa}} 
\index{utils.\+h@{utils.\+h}!string\+\_\+dup@{string\+\_\+dup}}
\index{string\+\_\+dup@{string\+\_\+dup}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{string\+\_\+dup()}{string\_dup()}}
{\footnotesize\ttfamily char$\ast$ string\+\_\+dup (\begin{DoxyParamCaption}\item[{char $\ast$}]{src }\end{DoxyParamCaption})}



Duplicate a string into malloc\textquotesingle{}ed space and returns pointer,. 

The passed string is assumed to be null terminated. Could lead to undefined behaviour and/or leaks if terminator is not present. Also memory is allocated on heap so caller is responsible for freeing resource.


\begin{DoxyParams}{Parameters}
{\em src} & string to be duplicated. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the new string or N\+U\+LL if failed. 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8h_a735abe73549c0fe822cdf2ec566187a2}\label{utils_8h_a735abe73549c0fe822cdf2ec566187a2}} 
\index{utils.\+h@{utils.\+h}!string\+\_\+map\+\_\+vars@{string\+\_\+map\+\_\+vars}}
\index{string\+\_\+map\+\_\+vars@{string\+\_\+map\+\_\+vars}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{string\+\_\+map\+\_\+vars()}{string\_map\_vars()}}
{\footnotesize\ttfamily char$\ast$ string\+\_\+map\+\_\+vars (\begin{DoxyParamCaption}\item[{const char $\ast$}]{src,  }\item[{char $\ast$$\ast$}]{vars,  }\item[{size\+\_\+t}]{src\+\_\+len,  }\item[{size\+\_\+t}]{vars\+\_\+len }\end{DoxyParamCaption})}



Replace all the variables in string with corresponding values. 

Function is useful for a linear string replace. Note that the placeholder values will be replaced based on position of string in vars. 
\begin{DoxyCode}
\textcolor{keywordtype}{char} **replace = \{\textcolor{stringliteral}{"sayed"}, \textcolor{stringliteral}{"24"}\};
\textcolor{keywordtype}{char} *src = \textcolor{stringliteral}{"Hello my name is @0 and I am @1 years old"};

\textcolor{keywordtype}{char} *\textcolor{keyword}{new} = \mbox{\hyperlink{utils_8h_a735abe73549c0fe822cdf2ec566187a2}{string\_map\_vars}}(src, replace, strlen(src), 2);
\textcolor{comment}{// new will be equal to}
\textcolor{stringliteral}{"Hello my name is sayed and I am 24 years old"}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em src} & A constant string which contains the variable placeholders. \\
\hline
{\em vars} & Array of all the string which serve as replacement values. \\
\hline
{\em src\+\_\+len} & Length of src. \\
\hline
{\em vars\+\_\+len} & Number of string inside vars. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A malloc\textquotesingle{}ed char pointer containing the final mapped string. Will return N\+U\+LL if error occurred. 
\end{DoxyReturn}
\mbox{\Hypertarget{utils_8h_a1b3d227bb361e0377f47e04db658fdb7}\label{utils_8h_a1b3d227bb361e0377f47e04db658fdb7}} 
\index{utils.\+h@{utils.\+h}!string\+\_\+to\+\_\+int@{string\+\_\+to\+\_\+int}}
\index{string\+\_\+to\+\_\+int@{string\+\_\+to\+\_\+int}!utils.\+h@{utils.\+h}}
\subsubsection{\texorpdfstring{string\+\_\+to\+\_\+int()}{string\_to\_int()}}
{\footnotesize\ttfamily int string\+\_\+to\+\_\+int (\begin{DoxyParamCaption}\item[{char $\ast$}]{str,  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}



Convert a string of numbers to integer. 


\begin{DoxyParams}{Parameters}
{\em str} & string to be converted. \\
\hline
{\em len} & the length of the string. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
converted integer if successful or 0. 
\end{DoxyReturn}
